<div class="add-booking-container">
  <h4>Add Booking</h4>
  <form #bookForm="ngForm" (ngSubmit)="addBooking(bookForm)">

    <label>Trip Type:</label> <select name="tripType" [(ngModel)]="bookings.tripType" required #tripCtrl="ngModel">
      <option [ngValue]="TRIP_TYPE.ONE_WAY">One Way</option>
      <option [ngValue]="TRIP_TYPE.ROUND_TRIP">Round Trip</option>
    </select>

    <label>Meal Preference:</label> <select name="tripType" [(ngModel)]="bookings.mealPreference" required
      #tripCtrl="ngModel">
      <option [ngValue]="MEAL_PREFERENCE.VEG">Vegetarian</option>
      <option [ngValue]="MEAL_PREFERENCE.NON_VEG">Non Vegetarian</option>
    </select>

    <input type="hidden" name="flightId" [(ngModel)]="bookings.flightId" />
    <label>Seat Count:</label>
    <input type="number" name="seat" [(ngModel)]="bookings.seatCount" required #seatCtrl="ngModel" min="1"
      (change)="updatePassengerInputs()" />
    <small class="text-danger" *ngIf="seatCtrl.invalid && seatCtrl.touched">
      SeatCount is required
    </small>

    <div *ngFor="let passenger of passengers; let i = index">
      <label>Passenger {{ i + 1 }} Name:</label>
      <input type="text" [(ngModel)]="passenger.name" name="name{{i}}" required />

      <label>Passenger {{ i + 1 }} Email:</label>
      <input type="email" [(ngModel)]="passenger.email" name="email{{i}}" required />

      <app-seat-selection
  [flightId]="bookings.flightId"
  (seatSelected)="onSeatSelected($event, i)">
</app-seat-selection>

    </div>
    <button type="submit">Submit Booking</button>
    <p class="text-danger mt-2 text-center" *ngIf="errorMessage">
      {{ errorMessage }}
    </p>
  </form>
</div>